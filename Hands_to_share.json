{"last_node_id":223,"last_link_id":358,"nodes":[{"id":4,"type":"CheckpointLoaderSimple","pos":[5081.59558861272,-697.7775536529132],"size":{"0":315,"1":98},"flags":{},"order":0,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[62],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[56,57,61],"slot_index":1},{"name":"VAE","type":"VAE","links":[60],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["juggernautXL_v8Rundiffusion.safetensors"]},{"id":216,"type":"Text box","pos":[5690,-280],"size":[210,129.7715530395506],"flags":{},"order":1,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"Text box"},"widgets_values":["Use this picker to select only some of hands if you need. For example, if one hand is OK, or if you have multiple people."],"color":"#432","bgcolor":"#653"},{"id":136,"type":"ControlNetLoader","pos":[5970,-210],"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[250],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["sdxl_depth_diffusion_pytorch_model.fp16.safetensors"]},{"id":217,"type":"Text box","pos":[5960,-350],"size":[317.874664070313,97.51714293828138],"flags":{},"order":3,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"Text box"},"widgets_values":["Switch to SD1.5 depth model if you use SD1.5 checkpoint"],"color":"#432","bgcolor":"#653"},{"id":219,"type":"Text box","pos":[6810,-300],"size":{"0":230.9497833251953,"1":133.38499450683594},"flags":{},"order":4,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"Text box"},"widgets_values":["Use this picker to choose the best hands from the batch. If no good options present, change seed in the detailer and try again"],"color":"#432","bgcolor":"#653"},{"id":191,"type":"SEGSPreview","pos":[6790,50],"size":{"0":315,"1":314},"flags":{},"order":21,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":297},{"name":"fallback_image_opt","type":"IMAGE","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"SEGSPreview"},"widgets_values":[true,0.2]},{"id":199,"type":"SEGSPaste","pos":[7120,-140],"size":{"0":315,"1":122},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":356},{"name":"segs","type":"SEGS","link":311},{"name":"ref_image_opt","type":"IMAGE","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[352],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SEGSPaste"},"widgets_values":[5,255]},{"id":220,"type":"SaveImage","pos":[7130,40],"size":[315,270],"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":352}],"properties":{},"widgets_values":["hands_fixed_"]},{"id":165,"type":"ImpactControlNetApplySEGS","pos":[5970,-100],"size":{"0":315,"1":118},"flags":{},"order":19,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":316,"slot_index":0},{"name":"control_net","type":"CONTROL_NET","link":250},{"name":"segs_preprocessor","type":"SEGS_PREPROCESSOR","link":null,"slot_index":2},{"name":"control_image","type":"IMAGE","link":313}],"outputs":[{"name":"SEGS","type":"SEGS","links":[294],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactControlNetApplySEGS"},"widgets_values":[1]},{"id":202,"type":"ImpactSEGSPicker","pos":[5690,-100],"size":{"0":210,"1":120.00004577636719},"flags":{},"order":18,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":315},{"name":"fallback_image_opt","type":"IMAGE","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[316],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSEGSPicker"},"widgets_values":["1, 2","image"]},{"id":171,"type":"MaskToSEGS","pos":[5300,-100],"size":{"0":315,"1":154},"flags":{},"order":16,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":314}],"outputs":[{"name":"SEGS","type":"SEGS","links":[315],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToSEGS"},"widgets_values":[false,3,false,1,false]},{"id":142,"type":"MaskPreview+","pos":[5110,110],"size":{"0":210,"1":246},"flags":{},"order":15,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":214}],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":178,"type":"PreviewImage","pos":[4870,110],"size":{"0":210,"1":246},"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":279}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":221,"type":"Reroute","pos":[6197,-404],"size":[75,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":353}],"outputs":[{"name":"","type":"IMAGE","links":[354,355],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":222,"type":"Reroute","pos":[7005,-401],"size":[75,26],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":355}],"outputs":[{"name":"","type":"IMAGE","links":[356],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":83,"type":"Reroute","pos":[4732,-397],"size":[75,26],"flags":{},"order":9,"mode":0,"inputs":[{"name":"","type":"*","link":340}],"outputs":[{"name":"","type":"IMAGE","links":[192,353],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":60,"type":"ToBasicPipe","pos":[5891.595588612723,-681.7775536529128],"size":{"0":241.79998779296875,"1":106},"flags":{},"order":10,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":62},{"name":"clip","type":"CLIP","link":61},{"name":"vae","type":"VAE","link":60},{"name":"positive","type":"CONDITIONING","link":58},{"name":"negative","type":"CONDITIONING","link":59}],"outputs":[{"name":"basic_pipe","type":"BASIC_PIPE","links":[357],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ToBasicPipe"}},{"id":204,"type":"LoadImage","pos":[4348,-395],"size":{"0":315,"1":314.00006103515625},"flags":{"collapsed":false},"order":5,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[340],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_mgkfu_00047_.png","image"]},{"id":189,"type":"SEGSDetailer","pos":[6330,-120],"size":{"0":430.8000183105469,"1":714},"flags":{},"order":20,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":354},{"name":"segs","type":"SEGS","link":294},{"name":"basic_pipe","type":"BASIC_PIPE","link":358},{"name":"refiner_basic_pipe_opt","type":"BASIC_PIPE","link":null}],"outputs":[{"name":"segs","type":"SEGS","links":[297,310],"shape":3,"slot_index":0},{"name":"cnet_images","type":"IMAGE","links":[],"shape":6,"slot_index":1}],"properties":{"Node name for S&R":"SEGSDetailer"},"widgets_values":[256,true,1024,101,"fixed",20,4,"dpmpp_sde_gpu","karras",0.75,true,true,0.2,4,1,false,10]},{"id":223,"type":"Reroute","pos":[6196,-439],"size":[75,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":357}],"outputs":[{"name":"","type":"BASIC_PIPE","links":[358],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":6,"type":"CLIPTextEncode","pos":[5429.59558861272,-693.7775536529132],"size":[428.67359498102996,75.99999618530273],"flags":{},"order":7,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":56}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[58],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["1girl, waving hands, in the grassy planes"]},{"id":7,"type":"CLIPTextEncode","pos":[5433.069992187501,-573.938475097657],"size":[420.6394765624991,90.57944140624966],"flags":{},"order":8,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":57}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[59],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["deformed eyes, deformed pupils, deformed iris, bad proportions, text, brand, deformed hands, poorly drawn hands, flags, politics, naked, topless,"]},{"id":200,"type":"ImpactSEGSPicker","pos":[6830,-120],"size":{"0":210,"1":120.00004577636719},"flags":{},"order":22,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":310},{"name":"fallback_image_opt","type":"IMAGE","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[311],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSEGSPicker"},"widgets_values":["4, 5","image"]},{"id":218,"type":"Text box","pos":[6340,-260],"size":[408.325983354297,98.99867099531264],"flags":{},"order":6,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"Text box"},"widgets_values":["You can control batch size here to specify how many different sets of hands detailer will make. Also play with denoising based on background complexity, it can make segs blend more into the original image."],"color":"#432","bgcolor":"#653"},{"id":130,"type":"MeshGraphormer-DepthMapPreprocessor","pos":[4930,-105],"size":{"0":315,"1":174},"flags":{},"order":11,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":192}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[279,313],"shape":3,"slot_index":0},{"name":"INPAINTING_MASK","type":"MASK","links":[214,314],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"MeshGraphormer-DepthMapPreprocessor"},"widgets_values":[30,1024,"tight_bboxes",32,91]}],"links":[[56,4,1,6,0,"CLIP"],[57,4,1,7,0,"CLIP"],[58,6,0,60,3,"CONDITIONING"],[59,7,0,60,4,"CONDITIONING"],[60,4,2,60,2,"VAE"],[61,4,1,60,1,"CLIP"],[62,4,0,60,0,"MODEL"],[192,83,0,130,0,"IMAGE"],[214,130,1,142,0,"MASK"],[250,136,0,165,1,"CONTROL_NET"],[279,130,0,178,0,"IMAGE"],[294,165,0,189,1,"SEGS"],[297,189,0,191,0,"SEGS"],[310,189,0,200,0,"SEGS"],[311,200,0,199,1,"SEGS"],[313,130,0,165,3,"IMAGE"],[314,130,1,171,0,"MASK"],[315,171,0,202,0,"SEGS"],[316,202,0,165,0,"SEGS"],[340,204,0,83,0,"*"],[352,199,0,220,0,"IMAGE"],[353,83,0,221,0,"*"],[354,221,0,189,0,"IMAGE"],[355,221,0,222,0,"*"],[356,222,0,199,0,"IMAGE"],[357,60,0,223,0,"*"],[358,223,0,189,2,"BASIC_PIPE"]],"groups":[{"title":"Main pipe","bounding":[5068,-778,1076,325],"color":"#3f789e","font_size":24},{"title":"Hands","bounding":[4772,-440,2707,1061],"color":"#3f789e","font_size":24}],"config":{},"extra":{},"version":0.4}